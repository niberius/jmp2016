<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org">

<head th:replace="fragments/head :: head"/>

<body>

<div>
    <div class="container">
        <div class="row">
           <!-- <nav th:replace="fragments/navBar :: navBar" />-->
            <nav class="navbar navbar-inverse">
            <div class="btn-group">
                <button class="btn btn-default btn-xs dropdown-toggle" type="button" data-toggle="dropdown" aria-haspopup="true"
                        aria-expanded="false">
                    Extra small button <span class="caret"></span>
                </button>
                <ul class="dropdown-menu">
                    <li>
                        <a class="lang_selection" id="lang_en" href="javascript:void(0);">English</a>
                    </li>
                    <li>
                        <a class="lang_selection" id="lang_ru" href="javascript:void(0);">Russian</a>
                    </li>
                </ul>
            </div>
            <form id="select_lang" th:action="@{/{lang}(lang='lang')}" method="post" enctype="multipart/form-data">
                <input type="hidden" name="lang" value=""/>
            </form>
            <script type="text/javascript">
            $('a.lang_selection').on('click', function() {
                $('#select_lang > input').val($(this).attr('id'));
                $('#select_lang').submit();
            });
    </script>
            </nav>
            <div class="panel panel-default">
                <div class="panel-heading">Seances list</div>
                <table class="table">
                    <thead>
                        <tr>
                            <th>id</th>
                            <th>Film name</th>
                            <th>Seance date</th>
                        </tr>
                    </thead>
                    <tbody th:if="${not #lists.isEmpty(seanceList)}">
                        <tr th:each="seance,status : ${seanceList}">
                            <td th:text="${status.count}"></td>
                            <td><a th:text="${seance.getFilm().getName()}" th:href="@{/seance/{id}(id=${status.count - 1})}"></a></td>
                            <td th:text="${#calendars.format(seance.getDateTime(), 'dd MMMM yyyy, H:m')}"></td>
                        </tr>
                    </tbody>
                    <tbody th:if="${#lists.isEmpty(seanceList)}">
                        <tr>
                            <td colspan="3">There are no available seances</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>

</body>

</html>